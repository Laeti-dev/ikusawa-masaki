@import '../utils/breakpoints';
@import '../utils/spacing';
@import '../utils/variables';

/* ::before selector in absolute position to create the vertical line */
.cd-timeline {
  overflow: hidden;
  padding: $space-lg 0;
}

.cd-timeline__container {
  position: relative;
  padding: $space-md 0;
  max-width: 80rem;

  &:before {
    /* this is the timeline vertical line */
    content: '';
    position: absolute;
    top: 0;
    left: 50%;
    height: 100%;
    width: 4px;
    background: $color-aside-bg;

    @media (max-width: 1024px) {
      left: 0;
    }
  }
}

/* Flexbox to align content and image inside each cd-timeline__block element */
.cd-timeline__block {
  display: flex;

  @include breakpoint(md) {
    &:nth-child(even) {
      flex-direction: row-reverse;  /*for even blocks -> lay out content from right to left */
    }
  }
}

.cd-timeline__img {
  display: flex;
  justify-content: center;
  align-items: center;
  flex-shrink: 0;

  @include breakpoint(md) {
    order: 1; /*flex order -> place the image after cd-timeline__content */
  }
}

.cd-timeline__content {
  flex-grow: 1; /* expand element so that it takes up all the available space inside its parent*/
  padding-left: 8px;
  @include breakpoint(md) {
    width: 45%;
    flex-grow: 0; /* prevent element from growing inside its parent */
  }
}

// For the animation to work .cd-timeline__img--hidden/.cd-timeline__content--hidden,
// which is used to hide by default all the content blocks that are off the viewport;
// when the user scrolls down,
// we add the .cd-timeline__img--bounce-in class to the .cd-timeline__img
// and the .cd-timeline__content--bounce-in to the .cd-timeline__content to make the elements visible
// and trigger the animation.

// @include breakpoint(md) {

//   // animations
//   .cd-timeline__img--hidden,
//   .cd-timeline__content--hidden {
//     visibility: hidden;
//   }

//   .cd-timeline__img--bounce-in {
//     animation: cd-bounce-1 0.6s;
//   }
// }

// @keyframes cd-bounce-1 {
//   0% {
//     opacity: 0;
//     transform: scale(0.5);
//   }

//   60% {
//     opacity: 1;
//     transform: scale(1.2);
//   }

//   100% {
//     transform: scale(1);
//   }
// }
